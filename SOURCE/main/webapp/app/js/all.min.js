var gabblerApp=angular.module("gabblerApp",["ngRoute","ngAnimate","gabbler.server.service","gabbler.translate","gabbler.login.service","gabbler.timeline.service","gabbler.timeline","gabbler.timeline.global","gabbler.menu","gabbler.login","gabbler.register.service","gabbler.register","gabbler.home","gabbler.profile.service","gabbler.profile","toastr"]);gabblerApp.config(["$routeProvider",function(e){e.when("/",{templateUrl:"/main/webapp/app/js/modules/index/home.html",controller:"indexCtrl"}),e.when("/timeline/user",{templateUrl:"/main/webapp/app/js/modules/timeline/timeline.html"}),e.when("/timeline",{templateUrl:"/main/webapp/app/js/modules/timeline_global/timeline_global.html"}),e.when("/profile",{templateUrl:"/main/webapp/app/js/modules/profile/profile.html",controller:"profileCtrl"})}]).run(["$http","$rootScope",function(e){e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"x-requested-with"}}]),angular.module("gabbler.home",["gabbler.menu","gabbler.login","gabbler.register"]).controller("indexCtrl",["$scope","AuthenticationService",function(e,r){e.pageClass="indexPageClass",r.ClearCredentials()}]),angular.module("gabbler.translate",["pascalprecht.translate","ngCookies"]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"/main/webapp/app/js/modules/languages/",suffix:".json"}),e.preferredLanguage("en")}]).controller("MainCtrl",["$scope","$translate",function(e,r){e.changeLanguage=function(e){r.use(e)}}]),angular.module("gabbler.login",["toastr"]).controller("loginCtrl",["$scope","$rootScope","$cookieStore","$location","AuthenticationService","$route","toastr",function(e,r,t,o,n,s,i){e.login=function(){e.dataLoading=!0,n.Login(e.username,e.pwd,function(r){r.token?(e.dataLoading=!1,o.path("/timeline/user")):(e.error="Invalid credentials",e.dataLoading=!1,i.error("Error while connecting ! "))})}}]).directive("login",function(){return{restrict:"E",controller:"loginCtrl",templateUrl:"/main/webapp/app/js/modules/login/login.html"}}),angular.module("gabbler.profile",["toastr"]).controller("profileCtrl",["$scope","$rootScope","$location","ProfileService","AuthenticationService","toastr",function(e,r,t,o,n,s){o.GetUserDatas(function(r){e.result=r,e.firstname=r.firstname,e.lastname=r.lastname,e.birthdate=new Date(r.birthdate),e.username=r.nickname,e.displayname=r.displayName,e.email=r.email}),e.updateProfile=function(){o.UpdateUserDatas(e.firstname,e.lastname,e.username,e.displayname,e.email,e.birthdate,function(r){r?(s.success("Your profile has been updated successfully !"),e.result=r,e.apply()):s.error("Error while update of your profile")})},e.updatePassword=function(){o.UpdatePassword(e.oldPassword,e.newPassword,function(e){e.success?s.info("Password has been successfully updated !"):e.error&&s.error("Error during update of your password","Please try again later")})}}]),angular.module("gabbler.menu",["toastr"]).directive("menu",function(){return{restrict:"E",replace:!0,templateUrl:"/main/webapp/app/js/modules/menu/menu.html"}}).controller("menuCtrl",["$scope","$cookieStore","$location","AuthenticationService","toastr",function(e,r,t,o){var n=o.GetCredentials();"undefined"==typeof n?(e.nickname="",e.disable=!0):(e.disable=!1,e.nickname=n.currentUser.username),setInterval(function(){e.$apply(function(){var r=o.GetCredentials();"undefined"==typeof r?(e.nickname="",e.disable=!0):(e.nickname=r.currentUser.username,e.disable=!1)})},2e3),e.logout=function(){o.Logout(function(){})}}]),angular.module("gabbler.register",["toastr"]).controller("registerCtrl",["$scope","$rootScope","$location","RegisterService","AuthenticationService","toastr",function(e,r,t,o,n,s){e.register=function(){e.dataLoading=!0,o.Register(e.gender,e.lastname,e.firstname,e.birthdate,e.email,e.username,e.pwd,function(r){r?n.Login(e.username,e.pwd,function(e){e?(s.info("Welcome To Gabbler !","Just Gab with your friends!"),t.path("/timeline/user")):s.error("Error while register, please retry again")}):(e.error=r.message,e.dataLoading=!1)})}}]).directive("register",function(){return{restrict:"E",templateUrl:"/main/webapp/app/js/modules/register/register.html"}});var optionalVisitedUserId;angular.module("gabbler.timeline",["gabbler.server.service","gabbler.timeline.service","toastr","ui.bootstrap","gabbler.login.service"]).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(r,t,o){var n=e(o.fileModel),s=n.assign;t.bind("change",function(){r.$apply(function(){s(r,t[0].files[0])})})}}}]).directive("fileModelBackground",["$parse",function(e){return{restrict:"A",link:function(r,t,o){var n=e(o.fileModelBackground),s=n.assign;t.bind("change",function(){r.$apply(function(){s(r,t[0].files[0])})})}}}]).controller("profileBackgroundCtrl",["$scope","$location","TimelineServices",function(e,r,t){"undefined"!=typeof r.search().userId?(optionalVisitedUserId=r.search().userId,e.disabledButtons=!0):(optionalVisitedUserId=0,e.disabledButtons=!1),e.profileBackGroundPicture=t.setBackgroundPicture(optionalVisitedUserId);var o={};e.uploadFiles=function(){o=e.myFile,t.uploadPictureBackground(o,function(){e.profileBackGroundPicture=t.setBackgroundPicture()})}}]).controller("profileOverviewCtrl",["$scope","$cookieStore","$location","AuthenticationService","TimelineServices","toastr","$rootScope","$timeout",function(e,r,t,o,n){var s=null;e.token=r.get("globals").currentUser.token;r.get("globals").currentUser.userID;e.updated=0,"undefined"!=typeof t.search().userId?(optionalVisitedUserId=t.search().userId,e.disabledButtons=!0):(optionalVisitedUserId=0,e.disabledButtons=!1),n.GetProfilePreview(optionalVisitedUserId,function(r){r&&(s=r,e.displayname=r.displayName,e.firstname=r.firstname,e.lastname=r.lastname,e.nickname=r.nickname,e.result=s.data,e.profilePicture=n.setProfilePicture())});var i="";e.uploadFiles=function(){i=e.myFile,n.uploadFileToUrl(i,function(){e.profilePicture=n.setProfilePicture(),e.$broadcast("photoChanged")})}}]).controller("timelineCtrl",["$scope","$cookieStore","$location","TimelineServices","toastr","$rootScope","AuthenticationService",function(e,r,t,o,n,s,i){"undefined"===i.GetCredentials()&&t.path("/"),"undefined"!=typeof t.search().userId?(optionalVisitedUserId=t.search().userId,e.disabledButtons=!0):(optionalVisitedUserId=0,e.disabledButtons=!1);var a=(r.get("globals").currentUser.userID,[]);o.GetMyGabs(optionalVisitedUserId,function(r){e.gabs=r,a=r}),setInterval(function(){e.$apply(function(){o.GetMyGabs(optionalVisitedUserId,function(r){e.gabs=r,a=r})})},1e4),o.GetProfilePreview(optionalVisitedUserId,function(r){e.username=r.nickname}),e.addGab=function(){o.AddAGab(e.sendGab,function(r){r.id&&o.GetMyGabs(function(r){e.gabs=r,a=r})})},e.deleteGab=function(r,t){a.splice(r,1),e.gabs=a,o.DeleteGab(t,function(){})},e.states=["Like","Unlike"],e.likeOrUnlikeGab=function(r,t){e.gabs[r].btnLike.state===e.states[0]?o.LikeGab(t,function(t,s){200===s?(e.gabs[r].btnLike.state=e.states[1],o.GetMyGabs(function(r){a=r,e.gabs=a})):n.error("error with the server")}):o.DislikeGab(t,function(t,s){200===s?(e.gabs[r].btnLike.state=e.states[0],o.GetMyGabs(function(r){a=r,e.gabs=a})):n.error("error with the server")})}}]).controller("suggestionsCtrl",["$scope","$cookieStore","$location","TimelineServices","toastr","ServerLink",function(e,r,t,o,n,s){e.states=["Follow","UnFollow"],e.searchUser=function(){o.SearchUser(e.search,function(t,o){if(200===o){var n;n=t;for(var i in n)if(n.hasOwnProperty(i)&&n[i].id==r.get("globals").currentUser.userID)return n.splice(i,1),void 0;for(var a in n)n.hasOwnProperty(a)&&(n[a].following===!0?(n[a].pictureProfile=s.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[a].id,n[a].btnFollow={state:e.states[1],index:a}):(n[a].pictureProfile=s.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[a].id,n[a].btnFollow={state:e.states[0],index:a}));e.result=n}else e.result={}})},e.followOrUnfollowUser=function(r,t){e.result[r].btnFollow.state===e.states[0]?o.FollowUser(t,function(t,o){200===o?e.result[r].btnFollow.state=e.states[1]:n.error("error with the server")}):o.UnFollowUser(t,function(t,o){200===o?e.result[r].btnFollow.state=e.states[0]:n.error("error with the server")})}}]),angular.module("gabbler.timeline.global",["gabbler.timeline.service","toastr","ui.bootstrap","gabbler.server.service"]).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(r,t,o){var n=e(o.fileModel),s=n.assign;t.bind("change",function(){r.$apply(function(){s(r,t[0].files[0])})})}}}]).controller("profileOverviewGlobalCtrl",["$scope","$cookieStore","$location","AuthenticationService","TimelineServices","toastr","$rootScope","$timeout",function(e,r,t,o,n){var s=null;e.token=r.get("globals").currentUser.token;r.get("globals").currentUser.userID;n.GetMyGabs(0,function(r){e.countGabs=r.length}),e.updated=0,setInterval(function(){e.$apply(function(){n.GetMyGabs(0,function(r){e.countGabs=r.length})})},1e4),n.GetProfilePreview(0,function(r){r&&(s=r,e.user=r,e.profilePicture=n.setProfilePicture(),e.coverPicture=n.setBackgroundPicture(0))})}]).controller("timelineGlobalCtrl",["$scope","$cookieStore","$location","TimelineServices","toastr","$rootScope",function(e,r,t,o,n){var s=(e.gab,r.get("globals").currentUser.userID,[]);e.states=["Like","Unlike"],o.GetGabsTimelineGlobal(function(r){e.gabs=r}),setInterval(function(){e.$apply(function(){o.GetGabsTimelineGlobal(function(r){e.gabs=r})})},1e4),e.addGab=function(){o.AddAGab(e.gab,function(r){r.id&&o.GetGabsTimelineGlobal(function(r){e.gabs=r})})},e.deleteGab=function(r,t){s.splice(r,1),e.gabs=s,o.DeleteGab(t,function(e,r){n.info(e+" "+r)})},e.likeOrUnlikeGab=function(r,t){e.gabs[r].btnLike.state===e.states[0]?o.LikeGab(t,function(t,s){200===s?(e.gabs[r].btnLike.state=e.states[1],o.GetGabsTimelineGlobal(function(r){e.gabs=r})):n.error("error with the server")}):o.DislikeGab(t,function(t,s){200===s?(e.gabs[r].btnLike.state=e.states[0],o.GetGabsTimelineGlobal(function(r){e.gabs=r})):n.error("error with the server")})}}]).controller("suggestionsGlobalCtrl",["$scope","$cookieStore","$location","ServerLink","TimelineServices",function(e,r,t,o,n){e.states=["Follow","UnFollow"],e.search=" ",n.SearchUser(e.search,function(r,t){if(200===t){var n;n=r;for(var s in n)n.hasOwnProperty(s)&&(n[s].following===!0?(n[s].pictureProfile=o.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[s].id,n[s].btnFollow={state:e.states[1],index:s}):(n[s].pictureProfile=o.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[s].id,n[s].btnFollow={state:e.states[0],index:s}));e.result=n}else e.result={}}),e.followOrUnfollowUser=function(r,t){toastr.info(e.result[r].btnFollow.state),e.result[r].btnFollow.state===e.states[0]?n.FollowUser(t,function(t,o){200===o?e.result[r].btnFollow.state=e.states[1]:toastr.error("error with the server")}):n.UnFollowUser(t,function(o,n){200===n?(e.result[r].btnFollow.state=e.states[0],toastr.info("user unfollowed"+r+" "+t)):toastr.error("error with the server")})}}]),angular.module("gabbler.server.service",[]).factory("ServerLink",function(){var e,r={};return r.GetBaseUrlFromServer=function(){return e="http://localhost:8082/gabbler/api"},r.GetUrlEndpoint=function(){var e={loginUrl:"api/login"};return e},r}),angular.module("gabbler.login.service",["toastr","gabbler.server.service"]).factory("AuthenticationService",["Base64","$http","$cookieStore","$rootScope","$timeout","toastr","ServerLink",function(e,r,t,o,n,s,i){var a={};return a.Login=function(e,t,o){var n={password:t,username:e},l=i.GetBaseUrlFromServer()+"/login";r.post(l,n).success(function(r,t){a.SetCredentials(e,r.token,r.userID),s.info("Welcome To Gabbler !","Just Gab with your friends!"),s.success("You are now connected !"),o(r,t)}).error(function(e,r){o(e,r)})},a.Logout=function(e){var o={token:t.get("globals").currentUser.token},n=t.get("globals").currentUser.token;r.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:n};var a=i.GetBaseUrlFromServer()+"/logout";r.get(a,o).success(function(r,t){s.info("You have been disconnected !","Good Bye !"),e(r,t)}).error(function(r,t){s.info("You have been disconnected !","Good Bye !"),e(r,t)})},a.SetCredentials=function(e,n,s){o.globals={currentUser:{username:e,token:n,userID:s}},r.defaults.headers.common.Authorization="Basic "+n,t.put("globals",o.globals)},a.GetCredentials=function(){return t.get("globals")},a.ClearCredentials=function(){o.globals={},t.remove("globals"),t.remove("UserToken"),r.defaults.headers.common.Authorization="Basic "},a}]).factory("Base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(r){var t,o,n,s,i,a="",l="",c="",u=0;do t=r.charCodeAt(u++),o=r.charCodeAt(u++),l=r.charCodeAt(u++),n=t>>2,s=(3&t)<<4|o>>4,i=(15&o)<<2|l>>6,c=63&l,isNaN(o)?i=c=64:isNaN(l)&&(c=64),a=a+e.charAt(n)+e.charAt(s)+e.charAt(i)+e.charAt(c),t=o=l="",n=s=i=c="";while(u<r.length);return a},decode:function(r){var t,o,n,s,i,a="",l="",c="",u=0,d=/[^A-Za-z0-9\+\/\=]/g;d.exec(r),r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n=e.indexOf(r.charAt(u++)),s=e.indexOf(r.charAt(u++)),i=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),t=n<<2|s>>4,o=(15&s)<<4|i>>2,l=(3&i)<<6|c,a+=String.fromCharCode(t),64!=i&&(a+=String.fromCharCode(o)),64!=c&&(a+=String.fromCharCode(l)),t=o=l="",n=s=i=c="";while(u<r.length);return a}}}),angular.module("gabbler.profile.service",["gabbler.server.service"]).factory("ProfileService",["$http","$cookieStore","$rootScope","$timeout","ServerLink",function(e,r,t,o,n){var s,i,a={};return a.GetUserDatas=function(t){if(s=r.get("globals").currentUser.token,i=r.get("globals").currentUser.userID,e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:s},"0"!==i){var o=n.GetBaseUrlFromServer()+"/user/get?userId=";e.get(o+i).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})}},a.UpdateUserDatas=function(t,o,a,l,c,u,d){s=r.get("globals").currentUser.token,i=r.get("globals").currentUser.userID;var f=new Date,p=new Date(u),g={id:i,email:c,nickname:a,birthdate:p,displayName:l,firstname:t,lastname:o,creationDate:f};e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Raw",sessionAuthToken:s};var b=n.GetBaseUrlFromServer()+"/user/update";e.post(b,g).success(function(e,r){d(e,r)}).error(function(e,r){d(e,r)})},a.UpdatePassword=function(t,o,i){s=r.get("globals").currentUser.token;var a={oldPassword:t,newPassword:o};e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Raw",sessionAuthToken:s};var l=n.GetBaseUrlFromServer()+"/user/password_change";e.post(l,a).success(function(e,r){i(e,r)}).error(function(e,r){i(e,r)})},a}]),angular.module("gabbler.register.service",["gabbler.server.service"]).factory("RegisterService",["$http","$cookieStore","$rootScope","$timeout","ServerLink",function(e,r,t,o,n){var s={};return s.Register=function(r,t,o,s,i,a,l,c){var u=new Date(s),d=new Date,f={password:l,displayName:a,nickname:a,birthdate:u,firstname:o,lastname:t,email:i,gender:r,creationDate:d},p=n.GetBaseUrlFromServer()+"/user/subscribe";e.post(p,f).success(function(e,r){c(e,r)}).error(function(e,r){c(e,r)})},s}]),angular.module("gabbler.server.service",[]).factory("ServerLink",function(){var e,r={};return r.GetBaseUrlFromServer=function(){return e="http://localhost:8082/gabbler/api"},r.GetUrlEndpoint=function(){var e={loginUrl:"api/login"};return e},r});var urlServer="http://localhost:8082/gabbler/api";angular.module("gabbler.timeline.service",["toastr","gabbler.server.service","gabbler.login.service"]).factory("TimelineServices",["$http","$cookieStore","$rootScope","$timeout","ServerLink","toastr",function(e,r){var t,o,n={};t=r.get("globals").currentUser.token,o=r.get("globals").currentUser.userID,n.GetProfilePreview=function(n,s){o=0!==n?n:r.get("globals").currentUser.userID,e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var i=urlServer+"/user/get?userId=";o&&e.get(i+o).success(function(e,r){s(e,r)}).error(function(e,r){s(e,r)})},n.AddAGab=function(n,s){var i=new Date;t=r.get("globals").currentUser.token,o=r.get("globals").currentUser.userID;var a={content:n,userId:o,postDate:i};e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Raw",sessionAuthToken:t};var l=urlServer+"/gabs/publish";e.post(l,a).success(function(e,r){s(e,r)}).error(function(e,r){s(e,r)})},n.DeleteGab=function(o,n){t=r.get("globals").currentUser.token,e.defaults.headers.delete={sessionAuthToken:t};var s=urlServer+"/gabs/delete?gabsId=";e.delete(s+o).success(function(e,r){n(e,r)}).error(function(e,r){n(e,r)})},n.GetMyGabs=function(t,o){var s=r.get("globals").currentUser.token,i=0;i=0!==t?t:r.get("globals").currentUser.userID;var a=urlServer+"/gabs/timeline/user?userId=";e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:s},e.get(a+i+"&startIndex=0&count=20").success(function(e,r){var t=n.AddDatasToGabs(e),s=n.AddLikersSentence(t);o(s,r)}).error(function(e,r){o(e,r)})},n.GetGabsTimelineGlobal=function(r){e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var o=urlServer+"/gabs/timeline?startIndex=0&count=20";e.get(o).success(function(e,t){var o=n.AddDatasToGabs(e),s=n.AddLikersSentence(o);r(s,t)}).error(function(e,t){r(e,t)})},n.AddDatasToGabs=function(e){var r=["Like","Unlike"],t=e;for(var n in t)if(t.hasOwnProperty(n)){var s=urlServer+"/user/picture/profile?userID=";t[n].pictureProfile=s+t[n].userId;var i=t[n].likers;if(0!==i.length)for(var a in i)i.hasOwnProperty(a)&&(t[n].btnLike=i[a].userID==o?{state:r[1],index:n}:{state:r[1],index:n});else t[n].btnLike={state:r[0],index:n}}return t},n.AddLikersSentence=function(e){{var t="";r.get("globals").currentUser.userID}return e.forEach(function(e){e.likers.length>0?(e.likers.forEach(function(r){e.isLikedByCurrentUser=!1,t.length>1?(e.countLikersMoreThanOne=!0,t+=" "+r.displayName):(e.countLikersMoreThanOne=!1,t=r.displayName)}),e.formattedLikers=t,e.isLiked=!0,t=""):e.isLiked=!1}),e},n.uploadFileToUrl=function(o,n){t=r.get("globals").currentUser.token,e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var s=urlServer+"/user/picture/profile",i=new FormData;i.append("image",o),e.post(s,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,r){n(e,r)}).error(function(e,r){n(e,r)})};var s={};return n.setProfilePicture=function(){var e;e=(new Date).getTime();return s=urlServer+"/user/picture/profile?userID="+o+"&timestamp="+e},n.uploadPictureBackground=function(o,n){t=r.get("globals").currentUser.token,e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var s=urlServer+"/user/picture/profile/background",i=new FormData;i.append("image",o),e.post(s,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,r){n(e,r)}).error(function(e,r){n(e,r)})},n.setBackgroundPicture=function(){var e=(new Date).getTime();return 0!==optionalVisitedUserId&&(o=optionalVisitedUserId),o=r.get("globals").currentUser.userID,s=urlServer+"/user/picture/profile/background?userID="+o+"&timestamp="+e},n.SearchUser=function(r,o){e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var n=urlServer+"/user/search?req=";""!==r&&e.get(n+r).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},n.FollowUser=function(r,o){e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var n=urlServer+"/user/follow?userId=";e.put(n+r).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},n.UnFollowUser=function(r,o){e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var n=urlServer+"/user/unfollow?userId=";e.put(n+r).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},n.LikeGab=function(r,o){e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t};var n=urlServer+"/gabs/like?gabsId=";e.put(n+r).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},n.DislikeGab=function(r,o){var n=urlServer+"/gabs/unlike?gabsId=";e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:t},e.put(n+r).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},n}]);