var gabblerApp=angular.module("gabblerApp",["ngRoute","ngAnimate","gabbler.server.service","gabbler.translate","gabbler.login.service","gabbler.timeline.service","gabbler.timeline","gabbler.timeline.global","gabbler.menu","gabbler.login","gabbler.register.service","gabbler.register","gabbler.home","gabbler.profile.service","gabbler.profile","toastr"]);gabblerApp.config(["$routeProvider","$httpProvider",function(e,r){e.when("/",{templateUrl:"/main/webapp/app/js/modules/index/home.html",controller:"indexCtrl"}),e.when("/timeline/user",{templateUrl:"/main/webapp/app/js/modules/timeline/timeline.html"}),e.when("/timeline",{templateUrl:"/main/webapp/app/js/modules/timeline_global/timeline_global.html"}),e.when("/profile",{templateUrl:"/main/webapp/app/js/modules/profile/profile.html",controller:"profileCtrl"}),r.defaults.useXDomain=!0,delete r.defaults.headers.common["X-Requested-With"]}]).run(["$http","$rootScope",function(e){e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"x-requested-with"}}]),angular.module("gabbler.home",["gabbler.menu","gabbler.login","gabbler.register"]).controller("indexCtrl",["$scope","AuthenticationService",function(e,r){e.pageClass="indexPageClass",r.ClearCredentials()}]),angular.module("gabbler.login",["toastr"]).controller("loginCtrl",["$scope","$rootScope","$cookieStore","$location","AuthenticationService","$route","toastr",function(e,r,t,o,n,s,i){e.login=function(){e.dataLoading=!0,n.Login(e.username,e.pwd,function(r){r.token?(e.dataLoading=!1,o.path("/timeline")):(e.error="Invalid credentials",e.dataLoading=!1,i.error("Error while connecting ! "))})}}]).directive("login",function(){return{restrict:"E",controller:"loginCtrl",templateUrl:"/main/webapp/app/js/modules/login/login.html"}}),angular.module("gabbler.translate",["pascalprecht.translate","ngCookies"]).config(["$translateProvider",function(e){e.useStaticFilesLoader({prefix:"/main/webapp/app/js/modules/languages/",suffix:".json"}),e.preferredLanguage("en")}]).controller("MainCtrl",["$scope","$translate",function(e,r){e.changeLanguage=function(e){r.use(e)}}]),angular.module("gabbler.menu",["toastr"]).directive("menu",function(){return{restrict:"E",replace:!0,templateUrl:"/main/webapp/app/js/modules/menu/menu.html"}}).controller("menuCtrl",["$scope","$cookieStore","$location","AuthenticationService","toastr",function(e,r,t,o){var n=o.GetCredentials();"undefined"==typeof n?(e.nickname="",e.disable=!0):(e.disable=!1,e.nickname=n.currentUser.username),setInterval(function(){e.$apply(function(){var r=o.GetCredentials();"undefined"==typeof r?(e.nickname="",e.disable=!0):(e.nickname=r.currentUser.username,e.disable=!1)})},2e3),e.logout=function(){o.Logout(function(){})}}]),angular.module("gabbler.profile",["toastr"]).controller("profileCtrl",["$scope","$rootScope","$location","ProfileService","AuthenticationService","toastr",function(e,r,t,o,n,s){o.GetUserDatas(function(r){e.result=r,e.firstname=r.firstname,e.lastname=r.lastname,e.birthdate=new Date(r.birthdate),e.username=r.nickname,e.displayname=r.displayName,e.email=r.email}),e.updateProfile=function(){o.UpdateUserDatas(e.firstname,e.lastname,e.username,e.displayname,e.email,e.birthdate,function(r,t){200==t?(s.success("Your profile has been updated successfully !"),e.result=r,e.apply()):s.error("Error while update of your profile")})},e.updatePassword=function(){o.UpdatePassword(e.oldPassword,e.newPassword,function(e,r){200==r?s.info("Password has been successfully updated !"):s.error("Error during update of your password","Please verify your Old and New Password or try again later")})}}]);var optionalVisitedUserId;angular.module("gabbler.timeline",["gabbler.server.service","gabbler.timeline.service","toastr","ui.bootstrap","gabbler.login.service"]).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(r,t,o){var n=e(o.fileModel),s=n.assign;t.bind("change",function(){r.$apply(function(){s(r,t[0].files[0])})})}}}]).directive("fileModelBackground",["$parse",function(e){return{restrict:"A",link:function(r,t,o){var n=e(o.fileModelBackground),s=n.assign;t.bind("change",function(){r.$apply(function(){s(r,t[0].files[0])})})}}}]).controller("profileBackgroundCtrl",["$scope","$location","TimelineServices",function(e,r,t){"undefined"!=typeof r.search().userId?(optionalVisitedUserId=r.search().userId,e.disabledButtons=!0):(optionalVisitedUserId=0,e.disabledButtons=!1),e.profileBackGroundPicture=t.setBackgroundPicture(optionalVisitedUserId);var o={};e.uploadFiles=function(){o=e.myFile,t.uploadPictureBackground(o,function(){e.profileBackGroundPicture=t.setBackgroundPicture()})}}]).controller("profileOverviewCtrl",["$scope","$cookieStore","$location","AuthenticationService","TimelineServices","toastr","$rootScope","$timeout","$window",function(e,r,t,o,n,s,i,a,l){"undefined"==typeof r.get("globals")&&(t.path("/"),l.reload());var c=null;e.token=r.get("globals").currentUser.token;r.get("globals").currentUser.userID;"undefined"!=typeof t.search().userId?(optionalVisitedUserId=t.search().userId,e.disabledButtons=!0):(optionalVisitedUserId=0,e.disabledButtons=!1),e.getProfile=function(){n.GetProfilePreview(optionalVisitedUserId,function(r){r&&(c=r,e.displayname=r.displayName,e.firstname=r.firstname,e.lastname=r.lastname,e.nickname=r.nickname,e.result=c.data,e.profilePicture=n.setProfilePicture())})},e.getProfile(),setInterval(function(){e.$apply(function(){e.getProfile()})},1e4);var u="";e.uploadFiles=function(){u=e.myFile,n.uploadFileToUrl(u,function(){e.profilePicture=n.setProfilePicture(),e.$broadcast("photoChanged")})}}]).controller("timelineCtrl",["$scope","$cookieStore","$location","TimelineServices","toastr","$rootScope","AuthenticationService",function(e,r,t,o,n){"undefined"!=typeof t.search().userId?(optionalVisitedUserId=t.search().userId,e.disabledButtons=!0):(optionalVisitedUserId=0,e.disabledButtons=!1);var s=(r.get("globals").currentUser.userID,[]);o.GetMyGabs(optionalVisitedUserId,function(r){e.gabs=r,s=r}),setInterval(function(){e.$apply(function(){o.GetMyGabs(optionalVisitedUserId,function(r){e.gabs=r,s=r})})},1e4),o.GetProfilePreview(optionalVisitedUserId,function(r){e.username=r.nickname}),e.addGab=function(){o.AddAGab(e.sendGab,function(r){r.id&&(e.sendGab="",o.GetMyGabs(optionalVisitedUserId,function(r){e.gabs=r,s=r}))})},e.deleteGab=function(r,t){s.splice(r,1),e.gabs=s,o.DeleteGab(t,function(){})},e.states=["Like","Unlike"],e.likeOrUnlikeGab=function(r,t){e.gabs[r].btnLike.state===e.states[0]?o.LikeGab(t,function(t,i){200===i?(e.gabs[r].btnLike.state=e.states[1],o.GetMyGabs(optionalVisitedUserId,function(r){s=r,e.gabs=s})):n.error("error with the server")}):o.DislikeGab(t,function(t,i){200===i?(e.gabs[r].btnLike.state=e.states[0],o.GetMyGabs(optionalVisitedUserId,function(r){s=r,e.gabs=s})):n.error("error with the server")})}}]).controller("suggestionsCtrl",["$scope","$cookieStore","$location","TimelineServices","toastr","ServerLink",function(e,r,t,o,n,s){e.states=["Follow","UnFollow"],e.searchUser=function(){o.SearchUser(e.search,function(t,o){if(200===o){var n;n=t;for(var i in n)if(n.hasOwnProperty(i)&&n[i].id==r.get("globals").currentUser.userID)return n.splice(i,1),void 0;for(var a in n)n.hasOwnProperty(a)&&(n[a].following===!0?(n[a].pictureProfile=s.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[a].id,n[a].btnFollow={state:e.states[1],index:a}):(n[a].pictureProfile=s.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[a].id,n[a].btnFollow={state:e.states[0],index:a}));e.result=n}else e.result={}})},e.followOrUnfollowUser=function(r,t){e.result[r].btnFollow.state===e.states[0]?o.FollowUser(t,function(t,o){200===o?e.result[r].btnFollow.state=e.states[1]:n.error("error with the server")}):o.UnFollowUser(t,function(t,o){200===o?e.result[r].btnFollow.state=e.states[0]:n.error("error with the server")})}}]),angular.module("gabbler.register",["toastr"]).controller("registerCtrl",["$scope","$rootScope","$location","RegisterService","AuthenticationService","toastr",function(e,r,t,o,n,s){e.register=function(){e.dataLoading=!0,o.Register(e.gender,e.lastname,e.firstname,e.birthdate,e.email,e.username,e.pwd,function(r){r?n.Login(e.username,e.pwd,function(e){e?(s.info("Welcome To Gabbler !","Just Gab with your friends!"),t.path("/timeline/user")):s.error("Error while register, please retry again")}):(e.error=r.message,e.dataLoading=!1)})}}]).directive("register",function(){return{restrict:"E",templateUrl:"/main/webapp/app/js/modules/register/register.html"}}),angular.module("gabbler.login.service",["toastr","gabbler.server.service"]).factory("AuthenticationService",["Base64","$http","$cookieStore","$rootScope","$timeout","toastr","ServerLink",function(e,r,t,o,n,s,i){var a={};return a.Login=function(e,t,o){var n={password:t,username:e},l=i.GetBaseUrlFromServer()+"/login";r.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"},r.post(l,n).success(function(r,t){a.SetCredentials(e,r.token,r.userID),s.info("Welcome To Gabbler !","Just Gab with your friends!"),s.success("You are now connected !"),o(r,t)}).error(function(e,r){o(e,r)})},a.Logout=function(e){var o={token:t.get("globals").currentUser.token},n=t.get("globals").currentUser.token;r.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:n};var a=i.GetBaseUrlFromServer()+"/logout";r.get(a,o).success(function(r,t){s.info("You have been disconnected !","Good Bye !"),e(r,t)}).error(function(r,t){s.info("You have been disconnected !","Good Bye !"),e(r,t)})},a.SetCredentials=function(e,n,s){o.globals={currentUser:{username:e,token:n,userID:s}},r.defaults.headers.common.Authorization="Basic "+n,t.put("globals",o.globals)},a.GetCredentials=function(){return t.get("globals")},a.ClearCredentials=function(){o.globals={},t.remove("globals"),t.remove("UserToken"),r.defaults.headers.common.Authorization="Basic "},a}]).factory("Base64",function(){var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";return{encode:function(r){var t,o,n,s,i,a="",l="",c="",u=0;do t=r.charCodeAt(u++),o=r.charCodeAt(u++),l=r.charCodeAt(u++),n=t>>2,s=(3&t)<<4|o>>4,i=(15&o)<<2|l>>6,c=63&l,isNaN(o)?i=c=64:isNaN(l)&&(c=64),a=a+e.charAt(n)+e.charAt(s)+e.charAt(i)+e.charAt(c),t=o=l="",n=s=i=c="";while(u<r.length);return a},decode:function(r){var t,o,n,s,i,a="",l="",c="",u=0,d=/[^A-Za-z0-9\+\/\=]/g;d.exec(r),r=r.replace(/[^A-Za-z0-9\+\/\=]/g,"");do n=e.indexOf(r.charAt(u++)),s=e.indexOf(r.charAt(u++)),i=e.indexOf(r.charAt(u++)),c=e.indexOf(r.charAt(u++)),t=n<<2|s>>4,o=(15&s)<<4|i>>2,l=(3&i)<<6|c,a+=String.fromCharCode(t),64!=i&&(a+=String.fromCharCode(o)),64!=c&&(a+=String.fromCharCode(l)),t=o=l="",n=s=i=c="";while(u<r.length);return a}}}),angular.module("gabbler.timeline.global",["gabbler.timeline.service","toastr","ui.bootstrap","gabbler.server.service"]).directive("fileModel",["$parse",function(e){return{restrict:"A",link:function(r,t,o){var n=e(o.fileModel),s=n.assign;t.bind("change",function(){r.$apply(function(){s(r,t[0].files[0])})})}}}]).controller("profileOverviewGlobalCtrl",["$scope","$cookieStore","$location","AuthenticationService","TimelineServices","toastr","$rootScope","$timeout","$route",function(e,r,t,o,n){if("undefined"!=typeof r.get("globals")){var s=null;e.token=r.get("globals").currentUser.token;{r.get("globals").currentUser.userID}}n.GetMyGabs(0,function(r){e.countGabs=r.length}),e.updated=0,setInterval(function(){e.$apply(function(){n.GetMyGabs(0,function(r){e.countGabs=r.length})})},1e4),n.GetProfilePreview(0,function(r){r&&(s=r,e.user=r,e.profilePicture=n.setProfilePicture(),e.coverPicture=n.setBackgroundPicture(0))})}]).controller("timelineGlobalCtrl",["$scope","$cookieStore","$location","TimelineServices","toastr","$rootScope","AuthenticationService",function(e,r,t,o,n){var s=[];e.states=["Like","Unlike"],o.GetGabsTimelineGlobal(function(r){e.gabs=r}),setInterval(function(){e.$apply(function(){o.GetGabsTimelineGlobal(function(r){e.gabs=r})})},1e4),e.addGab=function(){o.AddAGab(e.gab,function(r){r.id&&(e.gab="",o.GetGabsTimelineGlobal(function(r){e.gabs=[],e.gabs=r}))})},e.deleteGab=function(r,t){s.splice(r,1),e.gabs=s,o.DeleteGab(t,function(e,r){n.info(e+" "+r)})},e.likeOrUnlikeGab=function(r,t){e.gabs[r].btnLike.state===e.states[0]?o.LikeGab(t,function(t,s){200===s?(e.gabs[r].btnLike.state=e.states[1],o.GetGabsTimelineGlobal(function(r){e.gabs=r})):n.error("error with the server")}):o.DislikeGab(t,function(t,s){200===s?(e.gabs[r].btnLike.state=e.states[0],o.GetGabsTimelineGlobal(function(r){e.gabs=r})):n.error("error with the server")})}}]).controller("suggestionsGlobalCtrl",["$scope","$cookieStore","$location","ServerLink","TimelineServices","AuthenticationService","toastr",function(e,r,t,o,n,s,i){e.states=["Follow","UnFollow"],e.getRecommended=function(){n.GetRecommendedUsers(function(r,t){if(200===t){var n;n=r;for(var i in n)n.hasOwnProperty(i)&&n[i].id==s.GetCredentials().currentUser.userID&&n.splice(i,1);for(var a in n)n.hasOwnProperty(a)&&(n[a].pictureProfile=o.GetBaseUrlFromServer()+"/user/picture/profile?userID="+n[a].id,n[a].btnFollow={state:e.states[0],index:a});e.result=n}else e.result={}})},e.getRecommended(),e.followOrUnfollowUser=function(r,t){e.result[r].btnFollow.state===e.states[0]?n.FollowUser(t,function(t,o){200===o?(e.result[r].btnFollow.state=e.states[1],e.getRecommended()):i.error("error with the server")}):n.UnFollowUser(t,function(t,o){200===o?(e.result[r].btnFollow.state=e.states[0],e.getRecommended()):i.error("error with the server")})}}]),angular.module("gabbler.profile.service",["gabbler.server.service"]).factory("ProfileService",["$http","$cookieStore","$rootScope","$timeout","ServerLink",function(e,r,t,o,n){var s,i,a={};return a.GetUserDatas=function(t){if(s=r.get("globals").currentUser.token,i=r.get("globals").currentUser.userID,e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:s},"0"!==i){var o=n.GetBaseUrlFromServer()+"/user/get?userId=";e.get(o+i).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})}},a.UpdateUserDatas=function(t,o,a,l,c,u,d){s=r.get("globals").currentUser.token,i=r.get("globals").currentUser.userID;var f=new Date,p=new Date(u),g={id:i,email:c,nickname:a,birthdate:p,displayName:l,firstname:t,lastname:o,creationDate:f};e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Raw",sessionAuthToken:s};var b=n.GetBaseUrlFromServer()+"/user/update";e.post(b,g).success(function(e,r){d(e,r)}).error(function(e,r){d(e,r)})},a.UpdatePassword=function(t,o,i){s=r.get("globals").currentUser.token;var a={oldPassword:t,newPassword:o};e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Raw",sessionAuthToken:s};var l=n.GetBaseUrlFromServer()+"/user/password_change";e.post(l,a).success(function(e,r){i(e,r)}).error(function(e,r){i(e,r)})},a}]),angular.module("gabbler.register.service",["gabbler.server.service"]).factory("RegisterService",["$http","$cookieStore","$rootScope","$timeout","ServerLink",function(e,r,t,o,n){var s={};return s.Register=function(r,t,o,s,i,a,l,c){var u=new Date(s),d=new Date,f={password:l,displayName:a,nickname:a,birthdate:u,firstname:o,lastname:t,email:i,gender:r,creationDate:d},p=n.GetBaseUrlFromServer()+"/user/subscribe";e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*"},e.post(p,f).success(function(e,r){c(e,r)}).error(function(e,r){c(e,r)})},s}]),angular.module("gabbler.server.service",[]).factory("ServerLink",function(){var e,r={};return r.GetBaseUrlFromServer=function(){return e="http://localhost:8082/gabbler/api"},r.GetUrlEndpoint=function(){var e={loginUrl:"api/login"};return e},r}),angular.module("gabbler.timeline.service",["ngRoute","toastr","gabbler.server.service","gabbler.login.service"]).factory("TimelineServices",["$http","$cookieStore","$rootScope","$timeout","ServerLink","toastr","$location","AuthenticationService","$window",function(e,r,t,o,n,s,i,a,l){var c,u,d={};"undefined"==typeof r.get("globals")?(i.path("/"),l.reload()):(c=r.get("globals").currentUser.token,u=r.get("globals").currentUser.userID),d.GetProfilePreview=function(t,o){u=0!==t?t:r.get("globals").currentUser.userID,e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var s=n.GetBaseUrlFromServer()+"/user/get?userId=";u&&e.get(s+u).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},d.AddAGab=function(t,o){var s=new Date;c=r.get("globals").currentUser.token,u=r.get("globals").currentUser.userID;var i={content:t,userId:u,postDate:s};e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"Raw",sessionAuthToken:c};var a=n.GetBaseUrlFromServer()+"/gabs/publish";e.post(a,i).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},d.DeleteGab=function(t,o){c=r.get("globals").currentUser.token,e.defaults.headers.delete={sessionAuthToken:c};var s=n.GetBaseUrlFromServer()+"/gabs/delete?gabsId=";e.delete(s+t).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},d.GetMyGabs=function(t,o){var s=r.get("globals").currentUser.token;e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:s},0!==t&&(u=t),0===t&&(u=r.get("globals").currentUser.userID);var i=n.GetBaseUrlFromServer()+"/gabs/timeline/user?userId=",a=i+u+"&startIndex=0&count=50";e.get(a).success(function(e,r){var t=d.AddDatasToGabs(e),n=d.AddLikersSentence(t);o(n,r)}).error(function(e,r){o(e,r)})},d.GetGabsTimelineGlobal=function(r){e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var t=n.GetBaseUrlFromServer()+"/gabs/timeline?startIndex=0&count=50";e.get(t).success(function(e,t){var o=d.AddDatasToGabs(e),n=d.AddLikersSentence(o);r(n,t)}).error(function(e,t){r(e,t)})},d.AddDatasToGabs=function(e){var r=["Like","Unlike"],t=e;for(var o in t)if(t.hasOwnProperty(o)){var s=n.GetBaseUrlFromServer()+"/user/picture/profile?userID=";t[o].pictureProfile=s+t[o].userId;var i=t[o].likers;if(0!==i.length)for(var a in i)i.hasOwnProperty(a)&&(t[o].btnLike=i[a].userID==u?{state:r[1],index:o}:{state:r[1],index:o});else t[o].btnLike={state:r[0],index:o}}return t},d.AddLikersSentence=function(e){{var t="";r.get("globals").currentUser.userID}return e.forEach(function(e){e.likers.length>0?(e.likers.forEach(function(r){e.isLikedByCurrentUser=!1,t.length>1?(e.countLikersMoreThanOne=!0,t+=" "+r.displayName):(e.countLikersMoreThanOne=!1,t=r.displayName)}),e.formattedLikers=t,e.isLiked=!0,t=""):e.isLiked=!1}),e},d.uploadFileToUrl=function(t,o){c=r.get("globals").currentUser.token,e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var s=n.GetBaseUrlFromServer()+"/user/picture/profile",i=new FormData;i.append("image",t),e.post(s,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})};var f={};return d.setProfilePicture=function(){var e;e=(new Date).getTime();n.GetBaseUrlFromServer()+"/user/picture/profile?userID=";return f=n.GetBaseUrlFromServer()+"/user/picture/profile?userID="+u+"&timestamp="+e},d.uploadPictureBackground=function(t,o){c=r.get("globals").currentUser.token,e.defaults.headers.post={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var s=n.GetBaseUrlFromServer()+"/user/picture/profile/background",i=new FormData;i.append("image",t),e.post(s,i,{transformRequest:angular.identity,headers:{"Content-Type":void 0}}).success(function(e,r){o(e,r)}).error(function(e,r){o(e,r)})},d.setBackgroundPicture=function(){var e=(new Date).getTime();return 0!==optionalVisitedUserId&&(u=optionalVisitedUserId),u=r.get("globals").currentUser.userID,f=n.GetBaseUrlFromServer()+"/user/picture/profile/background?userID="+u+"&timestamp="+e},d.SearchUser=function(r,t){e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var o=n.GetBaseUrlFromServer()+"/user/search?req=";""!==r&&e.get(o+r).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})},d.GetRecommendedUsers=function(r){e.defaults.headers.get={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var t=n.GetBaseUrlFromServer()+"/user/recommended";e.get(t).success(function(e,t){r(e,t)}).error(function(e,t){r(e,t)})},d.FollowUser=function(r,t){e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var o=n.GetBaseUrlFromServer()+"/user/follow?userId=";e.put(o+r).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})},d.UnFollowUser=function(r,t){e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var o=n.GetBaseUrlFromServer()+"/user/unfollow?userId=";e.put(o+r).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})},d.LikeGab=function(r,t){e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c};var o=n.GetBaseUrlFromServer()+"/gabs/like?gabsId=";e.put(o+r).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})},d.DislikeGab=function(r,t){var o=n.GetBaseUrlFromServer()+"/gabs/unlike?gabsId=";e.defaults.headers.put={"Content-Type":"application/json","Access-Control-Allow-Origin":"*","Access-Control-Allow-Headers":"*",sessionAuthToken:c},e.put(o+r).success(function(e,r){t(e,r)}).error(function(e,r){t(e,r)})},d}]);